<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>K√Ω file IPA tr·ª±c tuy·∫øn</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì±</text></svg>">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="Keywords" content="ipa sign,ios sign,app sign,ipa signer,ios signer,app signer,ipa resign,ios resign,app resign,ipa signature,ios signature,app signature,ios app signer,ipa signer tool,apple developer enterprise certificate sign,app free resign,Windows platform signature,mac platform xcode signature,iphone signer without jailbreak,ipa resign tool,IPAÁ≠æÂêçÂ∑•ÂÖ∑,IOSÁ≠æÂêçÂ∑•ÂÖ∑,APPÁ≠æÂêçÂ∑•ÂÖ∑,ËãπÊûúIPAÁ≠æÂêçÂ∑•ÂÖ∑,ËãπÊûúIOSÁ≠æÂêçÂ∑•ÂÖ∑,ËãπÊûúAPPÁ≠æÂêçÂ∑•ÂÖ∑,‰ºÅ‰∏öÁ≠æÂêçÂ∑•ÂÖ∑,ÂÖçË¥πÁ≠æÂêçÂ∑•ÂÖ∑,ÈáçÁ≠æÂêçÂéªÈîÅ,windowsÁ≠æÂêçÂ∑•ÂÖ∑,macÁ≠æÂêçÂ∑•ÂÖ∑,win/macÂπ≥Âè∞Âú®Á∫øÁ≠æÂêç"/>
    <meta name="description" content="K√Ω IPA tr·ª±c tuy·∫øn, ios signer, app signer, IPA mi·ªÖn ph√≠, kh√¥ng c·∫ßn macOS, d√πng certificate doanh nghi·ªáp..."/>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Internal CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- External JS -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <h1 class="logo">
                        <i class="fas fa-mobile-alt"></i>
                        Unlimited IPA Signature Tool
                    </h1>
                    <div class="header-subtitle">K√Ω IPA tr·ª±c tuy·∫øn kh√¥ng c·∫ßn macOS</div>
                </div>
            </div>
        </header>
        
        <!-- Features Section -->
        <div class="container">
            <div class="features">
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <span>Kh√¥ng c·∫ßn MacOS - Ch·∫°y tr·ª±c ti·∫øp tr√™n tr√¨nh duy·ªát</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <span>T·ª± ƒë·ªông 24/7 - D·ªÖ s·ª≠ d·ª•ng - Kh√¥ng qu·∫£ng c√°o</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <span>K√Ω IPA dung l∆∞·ª£ng l·ªõn kh√¥ng gi·ªõi h·∫°n</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <span>An to√†n - B·∫£o m·∫≠t - T·ª± ƒë·ªông</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <span><a href="https://chungchip12.com/" target="_blank" class="cert-link">Mua ch·ª©ng ch·ªâ t·∫°i: Chungchip12.com</a></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Step 1: File Selection -->
                <transition name="slide">
                    <div class="card" v-show="showStep1">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i class="fas fa-file-upload"></i>
                                B∆∞·ªõc 1: Ch·ªçn file c·∫ßn k√Ω
                            </h2>
                        </div>
                        <div class="card-body">
                            <!-- App Selection -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-apple-alt"></i>
                                    Ch·ªçn ·ª©ng d·ª•ng ho·∫∑c upload IPA
                                </label>
                                <div class="app-selection-grid">
                                    <!-- eSign -->
                                    <div class="app-option" 
                                         :class="{ selected: selectedApp === 'esign' }"
                                         @click="selectApp('esign')">
                                        <div class="app-option-content">
                                            <div class="app-icon">
                                                <i class="fas fa-signature"></i>
                                            </div>
                                            <div class="app-info">
                                                <div class="app-name">ESign</div>
                                                <div class="app-version">5.0.2</div>
                                            </div>
                                            <div class="app-status-indicator" :class="appStatus['esign']"></div>
                                        </div>
                                    </div>
                                    
                                    <!-- Scarlet -->
                                    <div class="app-option" 
                                         :class="{ selected: selectedApp === 'sca' }"
                                         @click="selectApp('sca')">
                                        <div class="app-option-content">
                                            <div class="app-icon">
                                                <i class="fas fa-heart"></i>
                                            </div>
                                            <div class="app-info">
                                                <div class="app-name">Scarlet</div>
                                                <div class="app-version">Latest</div>
                                            </div>
                                            <div class="app-status-indicator" :class="appStatus['sca']"></div>
                                        </div>
                                    </div>
                                    
                                    <!-- GBox -->
                                    <div class="app-option" 
                                         :class="{ selected: selectedApp === 'gbox' }"
                                         @click="selectApp('gbox')">
                                        <div class="app-option-content">
                                            <div class="app-icon">
                                                <i class="fas fa-box"></i>
                                            </div>
                                            <div class="app-info">
                                                <div class="app-name">GBox</div>
                                                <div class="app-version">Latest</div>
                                            </div>
                                            <div class="app-status-indicator" :class="appStatus['gbox']"></div>
                                        </div>
                                    </div>
                                    
                                    <!-- Upload Custom IPA -->
                                    <div class="app-option custom-option" 
                                         :class="{ selected: selectedApp === 'custom' }"
                                         @click="selectCustomIpa">
                                        <div class="app-option-content">
                                            <div class="app-icon">
                                                <i class="fas fa-upload"></i>
                                            </div>
                                            <div class="app-info">
                                                <div class="app-name">Upload IPA</div>
                                                <div class="app-version">T√πy ch·ªçn</div>
                                            </div>
                                            <input type="file" @change="handleCustomIpa" ref="customIpaInput" accept=".ipa" class="custom-ipa-input" id="customIpa">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Selected App Status -->
                                <div class="selected-app-status" v-if="selectedApp">
                                    <div class="app-status-display" :class="appStatusClass">
                                        <i :class="appStatusIcon"></i>
                                        <span>{{ appStatusText }}</span>
                                        <button v-if="selectedApp === 'custom' && customIpaFile" @click="clearCustomIpa" class="clear-btn">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="app-hint">
                                    <i class="fas fa-info-circle"></i> Ch·ªçn ·ª©ng d·ª•ng c√≥ s·∫µn ho·∫∑c upload file IPA c·ªßa b·∫°n
                                </div>
                            </div>
                            
                            <!-- Certificate ZIP File -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-file-archive"></i>
                                    File ch·ª©ng ch·ªâ (.zip)
                                </label>
                                <div class="file-input-container">
                                    <input type="file" @change="handleCertZip" ref="certZipInput" accept=".zip" class="file-input" id="certZip">
                                    <label for="certZip" class="file-input-label" :class="certZipClass">
                                        <span class="file-name">{{ certZipText }}</span>
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </label>
                                </div>
                                <div class="file-hint">
                                    <i class="fas fa-info-circle"></i> File ZIP ph·∫£i ch·ª©a c·∫£ file .p12 v√† .mobileprovision
                                </div>
                                
                                <!-- Extracted Files Info -->
                                <div class="extracted-files" v-if="p12 || mobileprovision">
                                    <div class="extracted-file" v-if="p12">
                                        <i class="fas fa-file-certificate"></i>
                                        <span>{{ p12.name }}</span>
                                    </div>
                                    <div class="extracted-file" v-if="mobileprovision">
                                        <i class="fas fa-file-code"></i>
                                        <span>{{ mobileprovision.name }}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Password -->
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-key"></i>
                                    M·∫≠t kh·∫©u ch·ª©ng ch·ªâ
                                </label>
                                <div class="password-container">
                                    <input type="password" v-model="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" 
                                           class="text-input" :class="passwordClass"
                                           @focus="showPasswordSuggestions = true">
                                    <button class="toggle-password" @click="togglePasswordVisibility">
                                        <i :class="passwordVisible ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                                    </button>
                                </div>
                                
                                <!-- Password Suggestions -->
                                <div class="password-suggestions" v-if="showPasswordSuggestions && passwordSuggestions.length > 0">
                                    <div class="suggestions-title">M·∫≠t kh·∫©u ƒë√£ d√πng:</div>
                                    <div class="suggestion-list">
                                        <span class="suggestion-item" v-for="suggestion in passwordSuggestions" 
                                              :key="suggestion" @click="selectPassword(suggestion)">
                                            {{ suggestion }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sign Button -->
                            <button class="btn btn-primary btn-sign" @click="upload" :disabled="!canSign">
                                <i class="fas fa-signature"></i>
                                {{ signButtonText }}
                            </button>
                            
                            <!-- Validation Errors -->
                            <div class="validation-errors" v-if="validationErrors.length > 0">
                                <div class="error-item" v-for="error in validationErrors" :key="error">
                                    <i class="fas fa-exclamation-circle"></i> {{ error }}
                                </div>
                            </div>
                        </div>
                    </div>
                </transition>
                
                <!-- Step 2: Upload Progress -->
                <transition name="slide">
                    <div class="card" v-show="showStep2">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i class="fas fa-cloud-upload-alt"></i>
                                B∆∞·ªõc 2: ƒêang t·∫£i file l√™n
                            </h2>
                        </div>
                        <div class="card-body">
                            <!-- Progress Steps -->
                            <div class="upload-steps">
                                <div class="step-item" :class="{ active: uploadStep >= 1, completed: uploadStep > 1 }">
                                    <div class="step-number">1</div>
                                    <span class="step-text">T·∫£i IPA</span>
                                </div>
                                <div class="step-connector" :class="{ active: uploadStep >= 2 }"></div>
                                
                                <div class="step-item" :class="{ active: uploadStep >= 2, completed: uploadStep > 2 }">
                                    <div class="step-number">2</div>
                                    <span class="step-text">Gi·∫£i n√©n ZIP</span>
                                </div>
                                <div class="step-connector" :class="{ active: uploadStep >= 3 }"></div>
                                
                                <div class="step-item" :class="{ active: uploadStep >= 3, completed: uploadStep > 3 }">
                                    <div class="step-number">3</div>
                                    <span class="step-text">X·ª≠ l√Ω</span>
                                </div>
                                <div class="step-connector" :class="{ active: uploadStep >= 4 }"></div>
                                
                                <div class="step-item" :class="{ active: uploadStep >= 4, completed: uploadStep > 4 }">
                                    <div class="step-number">4</div>
                                    <span class="step-text">Ho√†n t·∫•t</span>
                                </div>
                            </div>
                            
                            <!-- Progress Bar -->
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>{{ progressText }}</span>
                                    <span>{{ progressBar }}%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" :style="{width: progressBar + '%'}"></div>
                                </div>
                            </div>
                            
                            <!-- Upload Details -->
                            <div class="upload-details">
                                <div class="upload-info">
                                    <div class="info-item" v-if="uploadFileInfo">
                                        <i class="fas fa-file-alt"></i>
                                        <span>{{ uploadFileInfo }}</span>
                                    </div>
                                    <div class="info-item" v-if="uploadSpeed">
                                        <i class="fas fa-tachometer-alt"></i>
                                        <span>T·ªëc ƒë·ªô: {{ uploadSpeed }}</span>
                                    </div>
                                    <div class="info-item" v-if="estimatedTime">
                                        <i class="fas fa-clock"></i>
                                        <span>C√≤n l·∫°i: {{ estimatedTime }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </transition>
                
                <!-- Step 3: Processing -->
                <transition name="slide">
                    <div class="card" v-show="showStep3">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i class="fas fa-cog fa-spin"></i>
                                B∆∞·ªõc 3: ƒêang x·ª≠ l√Ω
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="processing-container">
                                <div class="spinner-container">
                                    <div class="spinner"></div>
                                </div>
                                
                                <h3 class="processing-title">ƒêang k√Ω IPA c·ªßa b·∫°n...</h3>
                                <p class="processing-text">Qu√° tr√¨nh n√†y c√≥ th·ªÉ m·∫•t v√†i ph√∫t. Vui l√≤ng kh√¥ng ƒë√≥ng trang.</p>
                                
                                <div class="processing-details">
                                    <div class="detail-item">
                                        <i class="fas fa-id-card"></i>
                                        <span>Job ID: <strong>{{ jobId }}</strong></span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-info-circle"></i>
                                        <span>Tr·∫°ng th√°i: <strong>{{ statusText }}</strong></span>
                                    </div>
                                    <div class="detail-item" v-if="processingTime">
                                        <i class="fas fa-clock"></i>
                                        <span>Th·ªùi gian: {{ processingTime }}</span>
                                    </div>
                                </div>
                                
                                <!-- Live Logs -->
                                <div class="log-container" v-if="logText">
                                    <div class="log-header">
                                        <i class="fas fa-terminal"></i>
                                        <span>Log qu√° tr√¨nh</span>
                                    </div>
                                    <div class="log-content">{{ logText }}</div>
                                </div>
                                
                                <!-- Cancel Button -->
                                <button class="btn btn-secondary" @click="cancelProcessing">
                                    <i class="fas fa-times"></i>
                                    H·ªßy b·ªè
                                </button>
                            </div>
                        </div>
                    </div>
                </transition>
                
                <!-- Step 4: Result -->
                <transition name="slide">
                    <div class="card" v-show="showStep4">
                        <div class="card-header success-header">
                            <h2 class="card-title">
                                <i class="fas fa-check-circle"></i>
                                B∆∞·ªõc 4: K√Ω th√†nh c√¥ng!
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="result-container">
                                <div class="success-animation">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                
                                <h3 class="result-title">üéâ IPA ƒë√£ ƒë∆∞·ª£c k√Ω th√†nh c√¥ng!</h3>
                                <p class="result-subtitle">B·∫°n c√≥ th·ªÉ c√†i ƒë·∫∑t ·ª©ng d·ª•ng ngay b√¢y gi·ªù</p>
                                
                                <div class="result-content">
                                    <!-- QR Code -->
                                    <div class="qr-section">
                                        <h4><i class="fas fa-qrcode"></i> Qu√©t m√£ QR</h4>
                                        <div class="qr-container">
                                            <div id="qrcode"></div>
                                            <div class="qr-hint">D√πng camera iPhone qu√©t m√£</div>
                                        </div>
                                    </div>
                                    
                                    <!-- Direct Link -->
                                    <div class="link-section">
                                        <h4><i class="fas fa-link"></i> Link c√†i ƒë·∫∑t</h4>
                                        <div class="link-container">
                                            <input type="text" :value="download" readonly class="link-input" ref="downloadLink">
                                            <div class="link-actions">
                                                <button class="btn btn-copy" @click="copyDownloadLink">
                                                    <i class="fas fa-copy"></i> Copy
                                                </button>
                                                <a :href="download" target="_blank" class="btn btn-install">
                                                    <i class="fas fa-download"></i> T·∫£i ngay
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Share Section -->
                                <div class="share-section">
                                    <h4><i class="fas fa-share-alt"></i> Chia s·∫ª ·ª©ng d·ª•ng</h4>
                                    <p class="share-description">G·ª≠i link n√†y cho b·∫°n b√® ƒë·ªÉ h·ªç c√†i ƒë·∫∑t m√† kh√¥ng c·∫ßn k√Ω l·∫°i</p>
                                    
                                    <div class="share-link-container">
                                        <input type="text" :value="shareUrl" readonly class="share-input" ref="shareUrlInput">
                                        <button class="btn btn-copy" @click="copyShareUrl">
                                            <i class="fas fa-copy"></i> Copy Link
                                        </button>
                                    </div>
                                    
                                    <div class="copy-success" :class="{ show: copySuccess }">
                                        <i class="fas fa-check"></i> ƒê√£ sao ch√©p v√†o clipboard!
                                    </div>
                                    
                                    <div class="share-actions">
                                        <button class="btn btn-whatsapp" @click="shareWhatsApp">
                                            <i class="fab fa-whatsapp"></i> WhatsApp
                                        </button>
                                        <button class="btn btn-telegram" @click="shareTelegram">
                                            <i class="fab fa-telegram"></i> Telegram
                                        </button>
                                        <button class="btn btn-message" @click="shareMessage">
                                            <i class="fas fa-envelope"></i> Message
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Actions -->
                                <div class="result-actions">
                                    <button class="btn btn-primary" @click="startNew">
                                        <i class="fas fa-redo"></i>
                                        K√Ω ·ª©ng d·ª•ng m·ªõi
                                    </button>
                                    <button class="btn btn-secondary" @click="viewHistory">
                                        <i class="fas fa-history"></i>
                                        L·ªãch s·ª≠ k√Ω
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </transition>
                
                <!-- Direct Download View -->
                <transition name="slide">
                    <div class="card" v-show="showDirectDownload">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i class="fas fa-download"></i>
                                C√†i ƒë·∫∑t ·ª©ng d·ª•ng
                            </h2>
                        </div>
                        <div class="card-body">
                            <div class="direct-download-container">
                                <div class="download-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                
                                <h3>·ª®ng d·ª•ng ƒë√£ s·∫µn s√†ng!</h3>
                                <p>Qu√©t m√£ QR ho·∫∑c nh·∫•n v√†o link ƒë·ªÉ c√†i ƒë·∫∑t</p>
                                
                                <div class="qr-container">
                                    <div id="directQrcode"></div>
                                </div>
                                
                                <a :href="directDownloadUrl" target="_blank" class="download-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    {{ directDownloadUrl }}
                                </a>
                                
                                <button class="btn btn-primary" @click="goToHome">
                                    <i class="fas fa-home"></i>
                                    V·ªÅ trang ch·ªß
                                </button>
                            </div>
                        </div>
                    </div>
                </transition>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <i class="fas fa-mobile-alt"></i>
                        <span>IPA Signer</span>
                    </div>
                    <div class="footer-links">
                        <a href="#"><i class="fas fa-question-circle"></i> H∆∞·ªõng d·∫´n</a>
                        <a href="#"><i class="fas fa-shield-alt"></i> B·∫£o m·∫≠t</a>
                        <a href="#"><i class="fas fa-envelope"></i> Li√™n h·ªá</a>
                    </div>
                    <div class="footer-copyright">
                        <p>¬© 2023 VNCERT - C√¥ng c·ª• k√Ω IPA tr·ª±c tuy·∫øn</p>
                        <p class="footer-note">C√¥ng c·ª• mi·ªÖn ph√≠ cho c·ªông ƒë·ªìng iOS</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Internal JS Files -->
    <script src="js/firebase-config.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
