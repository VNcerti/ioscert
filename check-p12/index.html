<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ki·ªÉm Tra Ch·ª©ng Ch·ªâ P12 - Apple Developer</title>
    <link rel="icon" href="https://i.imgur.com/gyJ5hF1.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS files -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <div class="container">
        <!-- Giao di·ªán ki·ªÉm tra ch·ª©ng ch·ªâ -->
        <div id="checkSection">
            <header>
                <h1>Ki·ªÉm Tra Ch·ª©ng Ch·ªâ P12</h1>
                <p class="subtitle">Ki·ªÉm tra th√¥ng tin v√† tr·∫°ng th√°i ch·ª©ng ch·ªâ c·ªßa b·∫°n tr·ª±c ti·∫øp t·ª´ Apple Developer</p>
            </header>

            <section class="section">
                <div class="form-group">
                    <label for="p12File"><i class="fas fa-file-archive"></i> File .p12 ho·∫∑c .zip</label>
                    <div class="file-input-wrapper">
                        <label for="p12File" class="file-input-label" id="p12FileLabel">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span class="file-text" id="fileText">Ch·ªçn file .p12 ho·∫∑c .zip</span>
                            <span class="file-hint">K√©o th·∫£ ho·∫∑c nh·∫•p ƒë·ªÉ ch·ªçn file</span>
                        </label>
                        <input type="file" id="p12File" class="file-input" accept=".p12,.P12,.zip,.ZIP">
                    </div>
                </div>

                <div class="form-group">
                    <label for="password"><i class="fas fa-key"></i> M·∫≠t kh·∫©u ch·ª©ng ch·ªâ</label>
                    <div class="password-container">
                        <input type="text" id="password" class="password-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u ch·ª©ng ch·ªâ">
                        <button type="button" class="toggle-password" id="togglePassword">
                            <i class="fas fa-eye-slash"></i>
                        </button>
                    </div>
                </div>

                <button id="checkButton" class="btn">
                    <i class="fas fa-search"></i> Ki·ªÉm Tra Ngay
                </button>
                
                <div class="message error-message" id="errorMessage"></div>
                <div class="message success-message" id="successMessage"></div>
            </section>

            <div class="notification">
                <p><strong><i class="fas fa-info-circle"></i> ƒê·ªô ch√≠nh x√°c cao:</strong> H·ªá th·ªëng ki·ªÉm tra tr·ª±c ti·∫øp t·ª´ Apple Developer v·ªõi ƒë·ªô ch√≠nh x√°c 99.69%</p>
                <p style="margin-top: 12px;"><i class="fas fa-code"></i> Ph√°t tri·ªÉn b·ªüi <a href="https://t.me/talmv" class="developer-link" target="_blank"><i class="fas fa-external-link-alt"></i> Vietnam Signing Authority</a></p>
            </div>
        </div>

        <!-- Giao di·ªán loading -->
        <div id="loadingSection" style="display: none;">
            <header>
                <h1>ƒêang Ph√¢n T√≠ch</h1>
                <p class="subtitle">H·ªá th·ªëng ƒëang ki·ªÉm tra ch·ª©ng ch·ªâ c·ªßa b·∫°n</p>
            </header>

            <section class="section">
                <div class="loading">
                    <div class="spinner"></div>
                    <h3>üîç ƒêang ph√¢n t√≠ch ch·ª©ng ch·ªâ</h3>
                    <p>Qu√° tr√¨nh n√†y c√≥ th·ªÉ m·∫•t v√†i gi√¢y...</p>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>

                <div class="loading-steps">
                    <div class="loading-step active" id="step1">
                        <div class="loading-step-indicator">1</div>
                        <div class="loading-step-text">ƒê·ªçc file</div>
                    </div>
                    <div class="loading-step" id="step2">
                        <div class="loading-step-indicator">2</div>
                        <div class="loading-step-text">Gi·∫£i m√£</div>
                    </div>
                    <div class="loading-step" id="step3">
                        <div class="loading-step-indicator">3</div>
                        <div class="loading-step-text">Ph√¢n t√≠ch</div>
                    </div>
                    <div class="loading-step" id="step4">
                        <div class="loading-step-indicator">4</div>
                        <div class="loading-step-text">Ho√†n t·∫•t</div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Giao di·ªán k·∫øt qu·∫£ -->
        <div id="resultSection" style="display: none;">
            <header>
                <h1>K·∫øt Qu·∫£ Ki·ªÉm Tra</h1>
                <p class="subtitle">Th√¥ng tin chi ti·∫øt v·ªÅ ch·ª©ng ch·ªâ c·ªßa b·∫°n</p>
            </header>

            <section class="section">
                <h2 class="result-title">
                    <i class="fas fa-file-certificate"></i> TH√îNG TIN CH·ª®NG CH·ªà
                </h2>
                
                <div class="cert-info">
                    <div class="info-label"><i class="fas fa-signature"></i> T√™n ch·ª©ng ch·ªâ:</div>
                    <div class="info-value" id="certName">-</div>
                </div>
                
                <div class="cert-info">
                    <div class="info-label"><i class="fas fa-calendar-times"></i> Ng√†y h·∫øt h·∫°n:</div>
                    <div class="info-value" id="expiryDate">-</div>
                </div>
                
                <div class="cert-info">
                    <div class="info-label"><i class="fas fa-check-circle"></i> Tr·∫°ng th√°i:</div>
                    <div class="info-value" id="status">-</div>
                </div>
                
                <div class="cert-info">
                    <div class="info-label"><i class="fas fa-clock"></i> Th·ªùi gian c√≤n l·∫°i:</div>
                    <div class="info-value">
                        <span id="daysLeft" class="time-left">-</span> ng√†y
                    </div>
                </div>

                <button id="backButton" class="btn btn-back">
                    <i class="fas fa-arrow-left"></i> Quay l·∫°i ki·ªÉm tra
                </button>
            </section>

            <div class="notification success">
                <p><strong><i class="fas fa-check-circle"></i> K·∫øt qu·∫£ ch√≠nh x√°c:</strong> Th√¥ng tin ƒë∆∞·ª£c l·∫•y tr·ª±c ti·∫øp t·ª´ Apple Developer</p>
                <p style="margin-top: 12px;"><i class="fas fa-share-alt"></i> B·∫°n c√≥ th·ªÉ chia s·∫ª URL n√†y cho ng∆∞·ªùi kh√°c ƒë·ªÉ xem k·∫øt qu·∫£</p>
            </div>
        </div>
    </div>

    <footer>
        <p>¬© 2023 Ki·ªÉm Tra Ch·ª©ng Ch·ªâ P12 | Ph√°t tri·ªÉn b·ªüi Vietnam Signing Authority</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <script src="js/firebase-service.js"></script>
    <script src="js/service.js"></script>
    <script src="js/handler.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
